Рассмотрим метод get_rack_stats() из модуля db.py,
который получает статистику по стеллажам. Внутри он выполняет SQL-запрос
с JOIN, GROUP BY и ORDER BY. Временная сложность зависит от структуры БД.
Есть индексы по первичным и внешним ключам, значит СУБД быстро находит нужные строки без перебора всей таблицы.
Обозначения:
R — количество стеллажей (например, 10–100),
P — количество записей в таблице позиций (может быть тысячи и больше).
При наличии индексов соединение и группировка выполняются за время,
пропорциональное количеству строк в обеих таблицах, но основную нагрузку даёт чтение всех позиций — то есть O(P).
Сортировка по номеру стеллажа добавляет O(R log R), но так как R < P, этим можно пренебречь. Итого: временная сложность — O(P).
Это оптимально, потому что, чтобы посчитать заполнение, нужно как минимум один раз пройтись по всем позициям.

Ответ: временная сложность — О(P)

Вывод: временная сложность метода — O(P).
Это оптимально, так как меньше, чем O(P), быть не может — нам физически нужно прочитать все позиции хотя бы один раз.